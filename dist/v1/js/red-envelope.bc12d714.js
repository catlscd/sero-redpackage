(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["red-envelope"],{"0280":function(t,e,n){"use strict";var a=n("ac7e"),s=n.n(a);s.a},"14e6":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"page-content",attrs:{id:"settings"}},[n("b-alert",{attrs:{variant:"success",show:t.showSuccess}},[n("b-icon",{attrs:{icon:"check-circle"}}),t._v(" "+t._s(t.$t("nickname_ok"))+" ")],1),n("b-overlay",{staticClass:"d-block",staticStyle:{padding:"10px"},attrs:{show:""!=t.txHash,rounded:"",opacity:"0.6","spinner-small":"","spinner-variant":"primary"},scopedSlots:t._u([{key:"overlay",fn:function(){return[n("div",{staticClass:"text-center"},[n("b-icon",{attrs:{icon:"arrow-counterclockwise",animation:"spin-reverse-pulse"}}),t._v(" "+t._s(t.$t("nickname_setting"))+" ")],1)]},proxy:!0}])},[n("b-form",{on:{submit:t.setName}},[n("b-form-group",{attrs:{label:t.$t("nickname")}},[n("b-form-input",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("div",{staticClass:"text-center",staticStyle:{"margin-top":"35px"}},[n("b-button",{attrs:{type:"submit",size:"lg",variant:"warning"}},[t._v(" "+t._s(t.$t("save"))+" ")])],1)],1)],1),n("div",{staticClass:"qa-item",staticStyle:{"margin-top":"25px"}},[n("strong",{staticClass:"title"},[t._v(" "+t._s(t.$t("tips"))+" ")]),n("div",{staticClass:"text-muted content"},[n("p",[t._v(" "+t._s(t.$t("tipsContent"))+" ")])])]),"zh"==t.$i18n.locale?n("p",{staticClass:"text-danger"},[n("b",[t._v("风险提示：")]),t._v("本应用发的其他Token红包跟此项目无任何关系，任何人都可以在 SERO 链上以极低价格发行 Token！ ")]):t._e()],1)},s=[],r=(n("b0c0"),{methods:{setName:function(t){var e=this;return t.preventDefault(),this.showSuccess=!1,this.name?(this.executeMethod("setName",[this.name],0,"SERO").then((function(t){e.txHash=t,e.queryTxStatus()})),!1):(alert(this.$t("pls_input_nickname")),!1)},queryTxStatus:function(){var t=this;this.txHash&&this.getTransactionReceipt(this.txHash).then((function(e){e||(e={status:"0x0"}),t.txStatus=e.status,"0x0"==e.status?setTimeout(t.queryTxStatus,3e3):(t.txHash="",t.$root.getNickname(),t.showSuccess=!0)}))}},created:function(){var t=this;this.$root.changeNavTitle(this.$t("nickname")),this.callMethod("getName",[]).then((function(e){var n=e.name;t.name=n}))},data:function(){return{name:"",txHash:"",showSuccess:!1}}}),i=r,o=n("2877"),c=Object(o["a"])(i,a,s,!1,null,null,null);e["default"]=c.exports},"188f":function(t,e,n){},"1a33":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"page-content",attrs:{id:"my-list"}},[n("b-overlay",{attrs:{show:t.loadding,"no-wrap":""}}),t.loadding||t.openPackages.length?n("div",{staticClass:"list"},t._l(t.openPackages,(function(e,a){return n("div",{key:a,staticClass:"item",on:{click:function(n){return t.goDetail(e)}}},[n("div",{staticClass:"logo"},[n("my-img",{staticClass:"img-fluid",attrs:{src:"img/token-"+e.currency.toLowerCase()+".png","default-img":"img/token-sero.png"}})],1),n("div",{staticClass:"info"},[n("div",{staticClass:"detail"},[n("div",{staticClass:"nums"},[t._v(" "+t._s(t.$t("red_envelope_from2").replace("{nickname}",e.nickname||e.currency))+" ")]),n("div",{staticClass:"money"},[t._v(" "+t._s(t.$t("total"))+" "+t._s(t._f("formatMoney")(e.money,e.decimals,!0))+" "+t._s(e.currency)+" ")])]),n("div",{staticClass:"meta"},[n("div",{staticClass:"time"},[t._v(t._s(t._f("formatDatetime")(e.created)))]),n("div",{staticClass:"tool"},[t._v(" "+t._s(t.$t("get"))+" "+t._s(t._f("formatMoney")(e.getMoney,e.decimals,!0))+" "+t._s(e.currency)+" ")])])])])})),0):n("b-alert",{attrs:{variant:"warning",show:!0}},[t._v(" "+t._s(t.$t("not_get_any"))+" ")])],1)},s=[],r={methods:{goDetail:function(t){this.$router.push({name:"Detail",query:{code:t.shareCode,currency:t.currency,txhash:t.txhash}})},fetchMyOpenPackage:function(){var t=this;this.loadding=!0,this.callMethod("myOpenPackageList",[0,50]).then((function(e){var n=e.total,a=e.openPackages;n>0&&t.$root.changeNavTitle(t.$t("my_open_red_envelope")+"(".concat(n,")")),t.openPackages=a,t.loadding=!1}))}},created:function(){this.$root.changeNavTitle(this.$t("my_open_red_envelope")),this.fetchMyOpenPackage()},data:function(){return{openPackages:[],loadding:!0}}},i=r,o=(n("ebb3"),n("2877")),c=Object(o["a"])(i,a,s,!1,null,null,null);e["default"]=c.exports},"3d4e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"page-content",attrs:{id:"my-package"}},[0!=t.loadding||t.packages.length?t._e():n("p",{staticClass:"text-center",staticStyle:{"font-size":"15px",color:"#333"}},[t._v(" "+t._s(t.$t("unsent_tips"))+" "),n("b-button",{staticClass:"send-btn",staticStyle:{"margin-top":"20px"},attrs:{variant:"warning"},on:{click:function(e){return t.goToSendPackage()}}},[t._v(" "+t._s(t.$t("home_send_btn"))+" ")])],1),n("b-overlay",{attrs:{show:t.loadding&&0==t.start,"no-wrap":""}}),t.packages.length?n("p",{staticClass:"text-center",staticStyle:{"font-size":"13px",color:"#ccc"}},[n("b-icon",{attrs:{icon:"info-circle-fill"}}),t._v(" "+t._s(t.$t("share_tips"))+" ")],1):t._e(),n("div",{staticClass:"list"},[t._l(t.packages,(function(e){return n("div",{key:e.shareCode,staticClass:"item",on:{click:function(n){return n.stopPropagation(),t.goDetail(e)}}},[n("div",{staticClass:"logo"},[n("my-img",{staticClass:"img-fluid",attrs:{src:"img/token-"+e.currency.toLowerCase()+".png","default-img":"img/token-sero.png"}})],1),n("div",{staticClass:"info"},[n("div",{staticClass:"detail"},[n("div",{staticClass:"nums"},[t._v(" "+t._s(t.$t("opened_nums").replace("{openNums}",e.openNums).replace("{nums}",e.nums))+" ")]),n("div",{staticClass:"money"},[0==e.typ&&"zh"==t.$i18n.locale?n("span",{staticClass:"icon-ping"},[t._v("拼")]):t._e(),"zh"==t.$i18n.locale?n("span",[t._v("剩")]):t._e(),n("span",{staticClass:"remain"},[t._v(" "+t._s(e.remainAmount/Math.pow(10,e.decimal||0))+" ")]),t._v(" /"+t._s(e.money/Math.pow(10,e.decimal||0))+" "+t._s(e.currency)+" ")])]),n("div",{staticClass:"meta"},[n("div",{staticClass:"time"},[t._v(t._s(t._f("formatDatetime")(e.created)))]),n("div",{staticClass:"tool"},[n("b-icon",{attrs:{icon:"reply"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.sharePackage(e)}}})],1)])])])})),0==t.start||t.loadMoreDisabled?t._e():n("div",{staticClass:"text-center",staticStyle:{padding:"13px 0px 25px"}},[n("b-overlay",{staticClass:"d-inline-block",attrs:{show:t.loadding,rounded:"",opacity:"0.6","spinner-small":""}},[n("b-btn",{attrs:{disabled:t.loadMoreDisabled,size:"sm",variant:"warning"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.loadMore(e)}}},[t._v(" "+t._s(t.$t("loadmore"))+" ")])],1)],1)],2)],1)},s=[],r=(n("99af"),{methods:{goToSendPackage:function(){this.$router.push({name:"Send"})},goDetail:function(t){this.$router.push({name:"Detail",query:{code:t.shareCode,currency:t.currency,from:"MyPackage"}})},loadMore:function(){var t=this.start-this.perPage;t&&!this.loadMoreDisabled?(this.start=t,this.mySendPackages()):this.loadMoreDisabled=!0},mySendPackages:function(){var t=this;this.loadding=!0,this.callMethod("mySendPackageList",[this.start,this.perPage]).then((function(e){var n=e.total,a=e.sendPackages;n>0&&t.$root.changeNavTitle(t.$t("my_send_red_envelope")+"（".concat(n,"）")),t.total||(t.total=n),t.start||(t.start=n),(a.length<t.perPage||t.start==t.perPage)&&(t.loadMoreDisabled=!0),t.loadding=!1,t.packages=t.packages.concat(a)}))},sharePackage:function(t){this.$router.push({name:"SendResult",query:{code:t.shareCode,currency:t.currency}})}},created:function(){this.$root.changeNavTitle(this.$t("my_send_red_envelope")),this.mySendPackages()},data:function(){return{packages:[],loadding:!0,total:0,start:0,perPage:50,loadMoreDisabled:!1}}}),i=r,o=(n("0280"),n("2877")),c=Object(o["a"])(i,a,s,!1,null,null,null);e["default"]=c.exports},"498a2":function(t,e,n){"use strict";var a=n("23e7"),s=n("58a8").trim,r=n("c8d2");a({target:"String",proto:!0,forced:r("trim")},{trim:function(){return s(this)}})},"4d60":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"page-content",attrs:{id:"my-assets"}},[n("b-overlay",{attrs:{show:t.loadding,"no-wrap":""}}),n("b-modal",{ref:"modal",attrs:{id:"withdrawModal",title:t.$t("withdraw"),"ok-title":t.$t("withdraw"),"cancel-title":t.$t("cancel")},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[n("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("b-form-group",{attrs:{label:t.$t("balance")}},[n("b-form-input",{attrs:{readonly:"",value:t.withdrawInfo.balance}}),n("b-form-text",{staticClass:"link",attrs:{"text-variant":"secondary"},on:{click:function(e){t.withdrawInfo.amount=t.withdrawInfo.balance}}},[t._v(" "+t._s(t.$t("withdraw_all"))+" ")])],1),n("b-form-group",{attrs:{state:t.withdrawAmountState,label:t.$t("withdrawal_amount"),"invalid-feedback":t.withdrawAmountTips}},[n("b-input-group",{attrs:{append:t.currentToken.currency}},[n("b-form-input",{attrs:{state:t.withdrawAmountState,required:""},model:{value:t.withdrawInfo.amount,callback:function(e){t.$set(t.withdrawInfo,"amount",e)},expression:"withdrawInfo.amount"}})],1),n("b-form-text",[t._v(" "+t._s(t.$t("fees"))+": "+t._s(t._f("formatMoney")(t.currentToken.fees,t.currentToken.decimals,!0))+t._s(t.currentToken.currency)+" "),"SERO"!=t.currentToken.currency?n("span",[t._v(" + "+t._s(t._f("formatMoney")(t.tokenSeroFee,18,!0))+"SERO ")]):t._e(),t.withdrawInfo.realAmount?n("span",{staticStyle:{"margin-left":"10px"}},[t._v(" "+t._s(t.$t("actual_amount_received"))+" "+t._s(t.withdrawInfo.realAmount)+" "+t._s(t.currentToken.currency)+" ")]):t._e()])],1)],1)]),""!=t.txHash?n("b-alert",{attrs:{show:"",variant:"secondary"}},[t._v(" "+t._s(t.$t("tx_submit_success"))+" "),n("b-overlay",{staticClass:"d-inline-block",attrs:{show:"0x0"==t.txStatus,rounded:"",opacity:"0.2","spinner-small":"","spinner-variant":"primary"}},["0x0"==t.txStatus?n("b-badge",{attrs:{variant:"warning"}},[t._v(" "+t._s(t.$t("confirming"))+" ")]):t._e()],1)],1):t._e(),"zh"==t.$i18n.locale?n("p",{staticClass:"text-right"},[n("a",{staticStyle:{color:"#ccc","font-size":"12px"},attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.changeContract()}}},[t._v(" "+t._s(t.changeContractTips)+" ")])]):t._e(),t.tokens["SERO"]&&t.tokens["SERO"]["currency"]?n("b-card-group",t._l(t.balances,(function(e){return n("b-card",{key:e.currency,attrs:{"header-tag":"header","footer-tag":"footer"},scopedSlots:t._u([{key:"header",fn:function(){return[n("h6",{staticClass:"mb-0 header"},[n("my-img",{staticClass:"token-logo img-fluid",attrs:{src:"img/token-"+e.currency.toLowerCase()+".png","default-img":"img/token-sero.png"}}),t._v(" "+t._s(e.currency)+" ")],1)]},proxy:!0},{key:"footer",fn:function(){return[n("div",{staticClass:"tips text-muted"},[n("p",[t._v(" "+t._s(t.$t("fees"))+" "+t._s(t._f("formatMoney")(t.tokens[e.currency].fees,t.tokens[e.currency].decimals,!0))+t._s(e.currency)+" "),"SERO"!=e.currency?n("span",[t._v(" + "+t._s(t._f("formatMoney")(t.tokenSeroFee,18,!0))+"SERO ")]):t._e()]),n("p",[t._v(" "+t._s(t.$t("min_withdrawal_amount"))+": "+t._s(t._f("formatMoney")(t.tokens[e.currency].minWithdrawAmount,t.tokens[e.currency].decimals,!0))+t._s(e.currency)+" ")])]),n("div",{staticClass:"action"},[n("b-button",{staticClass:"withdraw",attrs:{href:"#",variant:"warning",size:"sm"},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.withdraw(e)}}},[t._v(" "+t._s(t.$t("withdraw"))+" ")])],1)]},proxy:!0}],null,!0)},[n("b-card-text",[n("div",[t._v(" "+t._s(t.$t("balance"))+"： "),n("b",{staticClass:"text-secondary"},[t._v(" "+t._s(t._f("formatMoney")(e.balance,t.tokens[e.currency].decimals,!0))+" ")]),t._v(" "+t._s(e.currency)+" ")]),n("div",[n("span",{domProps:{innerHTML:t._s(t.$t("open_nums").replace("{nums}",e.getNums))}}),t._v(", "+t._s(t.$t("total"))+": "),n("b",{staticClass:"text-secondary"},[t._v(" "+t._s(t._f("formatMoney")(e.get,t.tokens[e.currency].decimals,!0))+" ")]),t._v(" "+t._s(e.currency)+" ")]),n("div",[n("span",{domProps:{innerHTML:t._s(t.$t("send_nums").replace("{nums}",e.sendNums))}}),t._v(", "+t._s(t.$t("total"))+": "),n("b",{staticClass:"text-secondary"},[t._v(" "+t._s(t._f("formatMoney")(e.send,t.tokens[e.currency].decimals,!0))+" ")]),t._v(" "+t._s(e.currency)+" ")])])],1)})),1):t._e()],1)},s=[],r=(n("99af"),n("d3b7"),n("25f0"),n("901e")),i=n.n(r),o={methods:{changeContract:function(){if(confirm("点击“确定”切换到历史版本（提取历史版本资产），如果你不知道这是什么，请点击取消！")){var t=this.$contract.contractList.latest.address;this.$contract.isLatestContract()&&(t=this.$contract.contractList.v0.address),this.$contract.setContractAddress(t)}},queryTxStatus:function(){var t=this;this.txHash&&this.getTransactionReceipt(this.txHash).then((function(e){e||(e={status:"0x0"}),t.txStatus=e.status,"0x0"==e.status?setTimeout(t.queryTxStatus,3e3):(t.txHash="",t.fetchAssets())}))},checkFormValidity:function(){var t=this.$refs.form.checkValidity(),e=new i.a(10).pow(this.currentToken.decimals);return-1==new i.a(this.withdrawInfo.amount).times(e).comparedTo(this.currentToken.minWithdrawAmount)&&(t=!1,this.withdrawAmountTips=this.$t("min_withdrawal_amount")+" "+new i.a(this.currentToken.minWithdrawAmount).div(e)+this.currentToken.currency),1!=new i.a(this.withdrawInfo.realAmount).comparedTo(0)&&(t=!1,this.withdrawAmountTips=this.$t("assets_withdrawal_tips1")),1==new i.a(this.withdrawInfo.amount).times(e).comparedTo(this.clickToken.balance)&&(t=!1,this.withdrawAmountTips=this.$t("insufficient_balance")),t&&(this.withdrawAmountTips=""),this.withdrawAmountState=t,t},resetModal:function(){this.withdrawInfo.amount="",this.withdrawAmountState=null,this.withdrawAmountTips=this.$t("assets_withdrawal_tips2")},resetRechargeModal:function(){this.rechargeInfo.amount="",this.rechargeAmountState=null,this.rechargeAmountTips=this.$t("assets_withdrawal_tips2")},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;if(this.checkFormValidity()){var e=[this.currentToken.currency,new i.a(this.withdrawInfo.amount).times(new i.a(10).pow(this.currentToken.decimals)).toString()],n=this.tokenSeroFee;"SERO"==this.currentToken.currency&&(n=0),this.executeMethod("withdraw",e,new i.a(n).toString(16),"SERO").then((function(e){t.txHash=e})),this.$nextTick((function(){t.$bvModal.hide("withdrawModal")}))}},rechargeSubmit:function(t){var e=this;t.preventDefault();var n=new i.a(this.rechargeInfo.amount);if(1!=n.comparedTo(0))return this.rechargeAmountState=!1,void(this.rechargeAmountTips="充值金额不正确");this.rechargeAmountState=!0,n=n.times(new i.a(10).pow(this.currentToken.decimals)).toString(16),this.executeMethod("recharge",[],n,this.currentToken.currency).then((function(t){e.txHash=t,console.log("sero:recharge ",t),e.$nextTick((function(){e.$bvModal.hide("rechargeModal")}))}))},recharge:function(t){this.clickToken=t,this.currentToken=this.tokens[t.currency],this.rechargeInfo.balance=new i.a(t.balance).div(new i.a(10).pow(this.currentToken.decimals)).toString(),this.$bvModal.show("rechargeModal")},withdraw:function(t){if(this.clickToken=t,this.currentToken=this.tokens[t.currency],parseInt(t.balance)<parseInt(this.currentToken.minWithdrawAmount)){var e=new i.a(this.currentToken.minWithdrawAmount).div(Math.pow(10,this.currentToken.decimals)),n=this.currentToken.currency;return this.$bvToast.toast(this.$t("insufficient_balance")+", "+this.$t("min_withdrawal_amount")+" ".concat(e).concat(n),{title:this.$t("tips"),toaster:"b-toaster-top-center",autoHideDelay:3e3,appendToast:!1,variant:"danger"}),!1}this.withdrawInfo.balance=new i.a(t.balance).div(new i.a(10).pow(this.currentToken.decimals)).toString(),this.$bvModal.show("withdrawModal")},fetchTokens:function(){var t=this;this.callMethod("tokenList",[]).then((function(e){for(var n=e.result,a=0;a<n.length;a++){var s=n[a];t.tokens[s.currency]={currency:s.currency,decimals:s.decimals,fees:s.fees,minSendAmount:s.minSendAmount,minWithdrawAmount:s.minWithdrawAmount,weight:s.weight}}}))},fetchAssets:function(){var t=this;this.callMethod("userBalances",[]).then((function(e){var n=e.tokenSeroFee,a=e.currencyList,s=e.balancesList;t.loadding=!1,t.tokenSeroFee=n;for(var r=[],i={},o=0;o<a.length;o++){var c=s[o],u={balance:c.balance,get:c.get,getMax:c.getMax,getNums:c.getNums,send:c.send,sendNums:c.sendNums,currency:a[o],weight:"SERO"==a[o]?99999:parseInt(c.getNums)};r.push(u),i[a[o]]=u}if(!i["SERO"]){var l={balance:0,get:0,getMax:0,getNums:0,send:0,sendNums:0,currency:"SERO",weight:99999};r.unshift(l),i["SERO"]=l}r.sort((function(t,e){return e.weight-t.weight})),t.balances=r,t.balanceMap=i}))}},watch:{txHash:function(){this.queryTxStatus()},"withdrawInfo.amount":function(t){if(t){var e=new i.a(10).pow(this.currentToken.decimals);this.withdrawInfo.realAmount=new i.a(t).times(e).minus(this.currentToken.fees).div(e)}else this.withdrawInfo.realAmount=""}},created:function(){this.$root.changeNavTitle(this.$t("assets")),this.fetchTokens(),this.fetchAssets()},data:function(){return{loadding:!0,changeContractTips:this.$contract.isLatestContract()?"历史版本":"最新版本",withdrawAmountState:null,withdrawAmountTips:this.$t("assets_withdrawal_tips2"),rechargeAmountState:null,rechargeAmountTips:"必须输入充值金额",currentToken:{},clickToken:{},txStatus:"0x0",txHash:"",withdrawInfo:{currency:"",amount:"",realAmount:"",balance:0},rechargeInfo:{currency:"",amount:"",realAmount:"",balance:0},tokens:{SERO:{}},tokenSeroFee:1e16,balances:[],balanceMap:{}}}},c=o,u=(n("4eac"),n("2877")),l=Object(u["a"])(c,a,s,!1,null,null,null);e["default"]=l.exports},"4eac":function(t,e,n){"use strict";var a=n("9eba"),s=n.n(a);s.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),s=n("5899"),r="["+s+"]",i=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5e0f":function(t,e,n){},"5f6c":function(t,e,n){"use strict";var a=n("188f"),s=n.n(a);s.a},"6c40":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"page-content",attrs:{id:"friends"}},[n("b-modal",{ref:"modal",attrs:{id:"add-friends-modal",title:t.$t("add_friend"),"ok-title":t.$t("add"),"cancel-title":t.$t("cancel")},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleModalOk}},[n("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.addFriends(e)}}},[n("b-form-group",{attrs:{state:t.nameState,label:t.$t("address"),"label-for":"address-input","invalid-feedback":t.$t("add_friend_err1")}},[n("b-form-textarea",{attrs:{id:"address-input",state:t.nameState,placeholder:t.$t("mainPKrTips"),required:""},model:{value:t.friend.address,callback:function(e){t.$set(t.friend,"address",e)},expression:"friend.address"}})],1),n("b-form-group",{attrs:{state:t.noteState,label:t.$t("remark"),"label-for":"note-input","invalid-feedback":t.$t("remark_tips")}},[n("b-form-input",{attrs:{id:"note-input",state:t.noteState,required:""},model:{value:t.friend.note,callback:function(e){t.$set(t.friend,"note",e)},expression:"friend.note"}})],1)],1)]),n("b-alert",{attrs:{variant:"success",show:t.showSuccess}},[n("b-icon",{attrs:{icon:"check-circle"}}),t._v(" "+t._s(t.tips)+" ")],1),n("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[n("b-overlay",{staticClass:"d-inline-block",attrs:{show:"0x0"==t.txStatus,rounded:"",opacity:"0.2","spinner-small":"","spinner-variant":"primary"}},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-friends-modal",modifiers:{"add-friends-modal":!0}}],attrs:{variant:"warning",size:"sm"}},[t._v(" "+t._s(t.$t("add"))+" ")])],1)],1),n("ul",t._l(t.friends,(function(e,a){return n("li",{key:e.address},[n("p",{staticClass:"address"},[t._v(" "+t._s(e.address)+" ")]),n("div",{staticClass:"name"},[n("div",[t._v(t._s(e.note))]),n("div",{staticClass:"action"},[n("b-button",{attrs:{variant:"link",size:"sm"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.delFriend(e,a)}}},[t._v(" "+t._s(t.$t("delete"))+" ")])],1)])])})),0)],1)},s=[],r=(n("498a2"),n("1ab5")),i={created:function(){this.$root.changeNavTitle(this.$t("my_friends")),this.fetchFriends()},data:function(){return{friend:{address:"",note:""},friends:[],name:"",nameState:null,noteState:null,txStatus:null,txhash:"",tips:"",showSuccess:!1}},methods:{delFriend:function(t,e){var n=this;e=this.friends.length-e-1,this.executeMethod("delFriend",[t.address,e],0,"SERO").then((function(t){n.txhash=t,n.tips=n.$t("friend_del_success"),n.queryTxStatus()}))},queryTxStatus:function(){var t=this;this.txhash&&this.getTransactionReceipt(this.txhash).then((function(e){e||(e={status:"0x0"}),t.txStatus=e.status,"0x0"==e.status?setTimeout(t.queryTxStatus,3e3):(t.txStatus=null,t.txhash=null,t.fetchFriends(),t.showSuccess=!0,setTimeout((function(){t.showSuccess=!1}),3e3))}))},fetchFriends:function(){var t=this;this.callMethod("getFriends",[]).then((function(e){var n=e.friendList;n.reverse();for(var a=[],s=0;s<n.length;s++){var r=n[s],i=t.$contract.web3.sero.getFullAddress([r.user])[r.user.toLowerCase()];a.push({address:i,note:r.note})}t.friends=a}))},checkFormValidity:function(){var t=this.$refs.form.checkValidity(),e=!0,n=!0;t||(e=!1,n=!1);var a=this.friend.address.trim();return Object(r["isStrictAddress"])(a)||(e=!1),this.nameState=e,this.noteState=n,t&&e&&n},resetModal:function(){this.friend={address:"",note:""},this.nameState=null,this.noteState=null},handleModalOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;if(this.checkFormValidity()){var e=this.friend.address.trim();this.executeMethod("addFriend",[e,this.friend.note],0,"SERO").then((function(e){e&&(t.txhash=e,t.txStatus="0x0",t.tips=t.$t("friend_add_success"),t.queryTxStatus())})),this.$nextTick((function(){t.$bvModal.hide("add-friends-modal")}))}}}},o=i,c=(n("88a9"),n("2877")),u=Object(c["a"])(o,a,s,!1,null,null,null);e["default"]=u.exports},7547:function(t,e,n){},8418:function(t,e,n){"use strict";var a=n("c04e"),s=n("9bf2"),r=n("5c6c");t.exports=function(t,e,n){var i=a(e);i in t?s.f(t,i,r(0,n)):t[i]=n}},"88a9":function(t,e,n){"use strict";var a=n("b2d0"),s=n.n(a);s.a},"99af":function(t,e,n){"use strict";var a=n("23e7"),s=n("d039"),r=n("e8b5"),i=n("861d"),o=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),h=n("b622"),f=n("2d00"),m=h("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!s((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),_=d("concat"),y=function(t){if(!i(t))return!1;var e=t[m];return void 0!==e?!!e:r(t)},k=!g||!_;a({target:"Array",proto:!0,forced:k},{concat:function(t){var e,n,a,s,r,i=o(this),d=l(i,0),h=0;for(e=-1,a=arguments.length;e<a;e++)if(r=-1===e?i:arguments[e],y(r)){if(s=c(r.length),h+s>p)throw TypeError(v);for(n=0;n<s;n++,h++)n in r&&u(d,h,r[n])}else{if(h>=p)throw TypeError(v);u(d,h++,r)}return d.length=h,d}})},"9db0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"page-content",attrs:{id:"send"}},[n("b-form",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[n("b-form-group",[n("div",{staticClass:"cell"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("send_token")))]),n("b-dropdown",{attrs:{size:"sm",right:"",variant:"muted","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("div",{staticClass:"content"},[n("div",{staticClass:"value"},[t._v(t._s(t.redPackage.token))]),n("b-icon",{attrs:{icon:"chevron-right"}})],1)]},proxy:!0}])},t._l(t.tokens,(function(e){return n("b-dropdown-item",{key:e.value,on:{click:function(n){return t.changeToken(e)}}},[t._v(" "+t._s(e.text)+" ")])})),1)],1)]),n("b-form-group",[n("b-input-group",{attrs:{size:"lg",append:t.redPackage.token},scopedSlots:t._u([{key:"prepend",fn:function(){return[0==t.redPackage.playType?n("b-input-group-text",["zh"==t.$i18n.locale?n("span",{staticClass:"icon-ping"},[t._v("拼")]):t._e(),t._v(" "+t._s(t.$t("send_total"))+" ")]):t._e(),1==t.redPackage.playType?n("b-input-group-text",[t._v(" "+t._s(t.$t("amount_each"))+" ")]):t._e()]},proxy:!0}])},[n("b-form-input",{model:{value:t.redPackage.price,callback:function(e){t.$set(t.redPackage,"price",e)},expression:"redPackage.price"}})],1)],1),0==t.redPackage.playType?n("p",[t._v(" "+t._s(t.$t("send_mode_1"))+" "),n("span",{staticClass:"yellow",on:{click:function(e){t.redPackage.playType=1}}},[t._v(" "+t._s(t.$t("change_mode_1"))+" ")])]):t._e(),1==t.redPackage.playType?n("p",[t._v(" "+t._s(t.$t("send_mode_2"))+" "),n("span",{staticClass:"yellow",on:{click:function(e){t.redPackage.playType=0}}},[t._v(" "+t._s(t.$t("change_mode_2"))+" ")])]):t._e(),n("b-form-group",[n("b-input-group",{attrs:{size:"lg",prepend:t.$t("send_quantity"),append:"zh"==t.$i18n.locale?"个":""}},[n("b-form-input",{model:{value:t.redPackage.nums,callback:function(e){t.$set(t.redPackage,"nums",e)},expression:"redPackage.nums"}})],1),n("b-form-invalid-feedback",{attrs:{state:t.redPackage.nums&&t.redPackage.nums>0}},[t._v(" "+t._s(t.$t("send_nums_err"))+" ")])],1),n("b-form-group",[n("b-form-textarea",{attrs:{size:"sm",placeholder:t.$t("best_wishes")},model:{value:t.redPackage.msg,callback:function(e){t.$set(t.redPackage,"msg",e)},expression:"redPackage.msg"}})],1),n("b-form-group",[n("div",{staticClass:"cell"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("cover")))]),n("b-dropdown",{attrs:{size:"sm",right:"",variant:"muted","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("div",{staticClass:"content"},[n("div",{staticClass:"value"},[t._v(t._s(t.coverText))]),n("b-icon",{attrs:{icon:"chevron-right"}})],1)]},proxy:!0}])},t._l(t.coverList,(function(e){return n("b-dropdown-item",{key:e.value,on:{click:function(n){return t.changeCover(e)}}},[t._v(t._s(e.text)+" ")])})),1)],1)]),n("b-form-group",[n("div",{staticClass:"cell"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("who_can_open")))]),n("b-dropdown",{attrs:{size:"sm",right:"",variant:"muted","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("div",{staticClass:"content"},[n("div",{staticClass:"value"},[t._v(t._s(t.whoCanGetText))]),n("b-icon",{attrs:{icon:"chevron-right"}})],1)]},proxy:!0}])},t._l(t.whoCanGetEnum,(function(e){return n("b-dropdown-item",{key:e.value,on:{click:function(n){return t.changeWhoCanGet(e)}}},[t._v(t._s(e.text))])})),1)],1)]),n("div",{staticClass:"total",staticStyle:{"text-align":"center","font-weight":"bold","font-size":"20px",margin:"20px"}},[t._v(" "+t._s(t.$t("send_total2"))+t._s(t.totalPrice)+" "+t._s(t.redPackage.token)+" ")]),n("div",{staticClass:"text-center",staticStyle:{"margin-top":"35px"}},[n("b-button",{attrs:{type:"submit",size:"lg",variant:"danger"}},[t._v(" "+t._s(t.$t("send_prepare"))+" ")])],1)],1)],1)},s=[],r=(n("99af"),n("d3b7"),n("25f0"),n("901e")),i=n.n(r),o={name:"Send",components:{},methods:{onSubmit:function(){var t=this;if(!this.$contract.isLatestContract()||true)return alert("旧版本已关闭发送红包功能！请尽快提取资产！"),!1;if(this.redPackage.msg||(this.redPackage.msg=this.$t("best_wishes")),parseInt(this.redPackage.nums)<1)alert(this.$t("send_nums_err"));else if(parseInt(this.redPackage.nums)>200)alert(this.$t("send_nums_err2"));else{var e=new i.a(10).pow(this.token.decimals),n=e.times(this.totalPrice),a=new i.a(this.token.minSendAmount).div(e),s=this.token.currency,r=n.comparedTo(this.token.minSendAmount);if(-1!=r&&null!==r){var o=[this.redPackage.playType,this.redPackage.nums,this.redPackage.token,this.redPackage.msg,this.redPackage.cover,this.redPackage.whoCanGet];this.executeMethod("createPackage",o,n.toString(16),this.redPackage.token).then((function(e){e&&t.$router.push({name:"SendResult",query:{txhash:e}})})).catch((function(e){alert(t.$t("send_faild")+e)}))}else this.$bvToast.toast(this.$t("send_amount_er")+" ".concat(a).concat(s),{title:this.$t("tips"),toaster:"b-toaster-top-center",autoHideDelay:3e3,appendToast:!1,variant:"danger"})}},changeToken:function(t){this.token=t,this.redPackage.token=t.value;var e=this.coverMap[t.value.toLowerCase()];e||(e=this.coverMap["default"]),this.changeCover(e)},changeWhoCanGet:function(t){this.redPackage.whoCanGet=t.value,this.whoCanGetText=t.text},changeCover:function(t){this.coverText=t.text,this.redPackage.cover=t.value},getTokenList:function(){var t=this;this.callMethod("tokenList",[]).then((function(e){for(var n=e.result,a=[],s=0;s<n.length;s++){var r=n[s];0!=r.weight&&("SUSD"==r.currency&&(r.weight=999),r.text=r.currency,r.value=r.currency,a.push(r))}a.sort((function(t,e){return e.weight-t.weight})),t.tokens=a}))}},computed:{totalPrice:function(){var t=this.redPackage.price;t||(t=0);var e=0==this.redPackage.playType?new i.a(t):new i.a(t).times(this.redPackage.nums||1);return e}},created:function(){this.$root.changeNavTitle(this.$t("send_red_envelope")),this.getTokenList()},data:function(){for(var t=[{text:this.$t("default").toUpperCase(),value:"default"},{text:"ASNOW",value:"asnow"}],e={},n=0,a=t;n<a.length;n++){var s=a[n];e[s.value]=s}return{whoCanGetText:this.$t("all").toUpperCase(),coverText:this.$t("default").toUpperCase(),whoCanGetEnum:[{text:this.$t("all").toUpperCase(),value:0},{text:this.$t("my_friends"),value:1}],coverList:t,coverMap:e,token:{text:"SERO",value:"SERO",decimals:18,minSendAmount:1e16,weight:999},tokens:[],redPackage:{token:"SERO",price:"1",nums:"10",msg:"",cover:"default",word:0,whoCanGet:0,canGetUser:"",playType:0}}}},c=o,u=(n("f722"),n("2877")),l=Object(u["a"])(c,a,s,!1,null,null,null);e["default"]=l.exports},"9eba":function(t,e,n){},a97e:function(t,e,n){t.exports=n.p+"img/detail-bg.b82cfef1.png"},ac7e:function(t,e,n){},b2d0:function(t,e,n){},b311:function(t,e,n){
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */
(function(e,n){t.exports=n()})(0,(function(){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var a=window.getSelection(),s=document.createRange();s.selectNodeContents(t),a.removeAllRanges(),a.addRange(s),e=a.toString()}return e}t.exports=n},function(t,e){function n(){}n.prototype={on:function(t,e,n){var a=this.e||(this.e={});return(a[t]||(a[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var a=this;function s(){a.off(t,s),e.apply(n,arguments)}return s._=e,this.on(t,s,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),a=0,s=n.length;for(a;a<s;a++)n[a].fn.apply(n[a].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),a=n[t],s=[];if(a&&e)for(var r=0,i=a.length;r<i;r++)a[r].fn!==e&&a[r].fn._!==e&&s.push(a[r]);return s.length?n[t]=s:delete n[t],this}},t.exports=n,t.exports.TinyEmitter=n},function(t,e,n){var a=n(3),s=n(4);function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return i(t,e,n);if(a.nodeList(t))return o(t,e,n);if(a.string(t))return c(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,n)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,n)}))}}}function c(t,e,n){return s(document.body,t,e,n)}t.exports=r},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"===typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e,n){var a=n(5);function s(t,e,n,a,s){var r=i.apply(this,arguments);return t.addEventListener(n,r,s),{destroy:function(){t.removeEventListener(n,r,s)}}}function r(t,e,n,a,r){return"function"===typeof t.addEventListener?s.apply(null,arguments):"function"===typeof n?s.bind(null,document).apply(null,arguments):("string"===typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return s(t,e,n,a,r)})))}function i(t,e,n,s){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&s.call(t,n)}}t.exports=r},function(t,e){var n=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function s(t,e){while(t&&t.nodeType!==n){if("function"===typeof t.matches&&t.matches(e))return t;t=t.parentNode}}t.exports=s},function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return i(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=s()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=s()(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"===typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}(),u=c,l=n(1),d=n.n(l),h=n(2),f=n.n(h),m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(t,n){v(this,e);var a=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.resolveOptions(n),a.listenClick(t),a}return _(e,t),p(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof t.action?t.action:this.defaultAction,this.target="function"===typeof t.target?t.target:this.defaultTarget,this.text="function"===typeof t.text?t.text:this.defaultText,this.container="object"===m(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=f()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return k("action",t)}},{key:"defaultTarget",value:function(t){var e=k("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return k("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"===typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach((function(t){n=n&&!!document.queryCommandSupported(t)})),n}}]),e}(d.a);function k(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}e["default"]=y}])["default"]}))},c221:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"page-content",attrs:{id:"send-result"}},[t.txhash?n("div",[n("b-alert",{attrs:{variant:"success",show:""}},[t._v(" "+t._s(t.$t("send_success_tips"))+" ")]),n("p",[t._v(" "+t._s(t.$t("tx_status_label"))+" "),n("b-overlay",{staticClass:"d-inline-block",attrs:{show:"0x0"==t.txStatus,rounded:"",opacity:"0.2","spinner-small":"","spinner-variant":"primary"}},["0x0"==t.txStatus?n("b-badge",{attrs:{variant:"warning"}},[t._v(t._s(t.$t("confirming")))]):t._e()],1),"0x1"==t.txStatus?n("b-badge",{attrs:{variant:"success"}},[t._v(t._s(t.$t("confirmed")))]):t._e()],1),"0x0"==t.txStatus?n("p",{staticClass:"alert alert-warning"},[t._v(" "+t._s(t.$t("send_result_tips1"))+" ")]):t._e(),"0x1"==t.txStatus?n("div",{staticClass:"text-center",staticStyle:{"padding-top":"20px"}},[n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.goMyPackage()}}},[t._v(" "+t._s(t.$t("view_my_sent"))+" ")])],1):t._e()],1):t._e(),t.code?n("div",[n("p",[n("b",[t._v(t._s(t.$t("copy_tips1")))])]),n("p",{staticClass:"text-muted",staticStyle:{"font-size":"13px"}},[t._v(" "+t._s(t.$t("copy_tips2"))+" ")]),n("b-form",[n("b-form-group",[n("b-form-textarea",{attrs:{id:"share-content",rows:"11"},model:{value:t.shareText,callback:function(e){t.shareText=e},expression:"shareText"}}),t.$root.nickname||"zh"!=t.$i18n.locale?t._e():n("p",{staticClass:"text-muted",staticStyle:{"padding-top":"8px"},on:{click:function(e){return t.goNickname()}}},[t._v(" 你还没有设置昵称，请注意修改最前面的用户昵称！ "),n("span",{staticClass:"text-primary"},[t._v(" 立即设置昵称 ")])])],1)],1),n("div",{staticClass:"text-center",staticStyle:{"padding-top":"20px"}},[n("b-button",{attrs:{id:"copy2clipboard","data-clipboard-target":"#share-content"}},[t._v(" "+t._s(t.$t("copy_content"))+" ")]),n("b-tooltip",{attrs:{target:"copy2clipboard",triggers:"click"}},[t._v(" "+t._s(t.$t("copy_success"))+" ")])],1)],1):t._e()])},s=[],r=(n("ac1f"),n("5319"),n("b311")),i=n.n(r),o={methods:{goNickname:function(){this.$router.push({name:"Nickname"})},goMyPackage:function(){this.$router.push({name:"MyPackage"})},buildShareText:function(){var t=this.$route.query.currency,e=this.$route.query.code;e&&(this.shareText=this.shareText.replace("{nickname}",this.$root.nickname||("zh"==this.$i18n.locale?"我":"")).replace("{code}",e).replace("{currency}",t),this.code=e)},queryTxStatus:function(){var t=this;this.txhash&&this.getTransactionReceipt(this.txhash).then((function(e){e||(e={status:"0x0"}),t.txStatus=e.status,"0x0"==e.status&&setTimeout(t.queryTxStatus,3e3)}))}},created:function(){this.$root.changeNavTitle(this.$t("send_red_envelope")),new i.a(".btn"),this.buildShareText(),this.queryTxStatus()},data:function(){return{code:"",timedown:3,txhash:this.$route.query.txhash,txStatus:"0x0",shareText:this.$t("share_content")}}},c=o,u=n("2877"),l=Object(u["a"])(c,a,s,!1,null,null,null);e["default"]=l.exports},c84b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"detail"}},[a("b-overlay",{attrs:{show:t.loadding,"no-wrap":""}}),a("img",{staticClass:"img-fluid",attrs:{src:n("a97e"),alt:""}}),a("b-container",[a("div",{staticClass:"info"},[a("div",{staticClass:"sender"},[t.redPackage.currency?a("my-img",{staticClass:"token-logo img-fluid",attrs:{src:"img/token-"+t.redPackage.currency.toLowerCase()+".png","default-img":"img/token-sero.png"}}):t._e(),a("span",{staticClass:"name"},[t._v(" "+t._s(t.$t("red_envelope_from").replace("{nickname}",t.redPackage.nickname||t.redPackage.currency))+" ")]),0==t.redPackage.typ&&"zh"==t.$i18n.locale?a("span",{staticClass:"icon-ping"},[t._v("拼")]):t._e()],1),a("div",{staticClass:"desc"},[t._v(t._s(t.redPackage.note))]),"grabPackage"==t.from&&"0x0"==t.txStatus?a("div",{staticClass:"text-center grab-status"},[t._v(" "+t._s(t.$t("tx_submit_success"))),a("br"),a("b-overlay",{staticClass:"d-inline-block",attrs:{show:"0x0"==t.txStatus,rounded:"",opacity:"0.2","spinner-small":"","spinner-variant":"primary"}},[a("b-badge",{attrs:{variant:"warning"}},[t._v(t._s(t.$t("confirming")))])],1)],1):a("div",{staticClass:"money"},["MyPackage"==t.from||"ViewAll"==t.from?a("span",[t._v(" "+t._s(t.redPackage.money)+" ")]):a("span",[t._v(" "+t._s(t._f("formatMoney")(t.getMoney,t.redPackage.decimals,!0))+" ")]),a("span",{staticClass:"token"},[t._v(t._s(t.redPackage.currency))]),t.getMoney>0?a("p",{staticClass:"tips"},[t._v(" "+t._s(t.$t("transferred_to_asset"))+" ")]):t._e()])])]),a("div",{staticClass:"hr"}),a("div",{staticClass:"list"},[t.redPackage.openNums!=t.redPackage.nums?a("div",{staticClass:"head"},[t._v(" "+t._s(t.$t("opened_nums").replace("{openNums}",t.redPackage.openNums).replace("{nums}",t.redPackage.nums))+", "),"zh"==t.$i18n.locale?a("span",[t._v("剩余")]):t._e(),t._v(" "+t._s(t._f("formatMoney")(t.redPackage.remainAmount,t.redPackage.decimals,!0))+"/"+t._s(t.redPackage.money)+" "+t._s(t.redPackage.currency)+" ")]):a("div",{staticClass:"head"},[t._v(" "+t._s(t.$t("red_envelope_nums").replace("{nums}",t.redPackage.nums))+" "+t._s(t.$t("total"))+" "),a("span",{on:{click:function(e){return t.showMoney({money:t.redPackage.moneyTa})}}},[t._v(" "+t._s(t.redPackage.money)+t._s(t.redPackage.currency))]),t._v(", "+t._s(t.$t("grab_finished"))+" ")]),t.redPackage.decimals?a("ul",t._l(t.openList,(function(e){return a("li",{key:e.txhash},[a("div",{staticClass:"user"},[a("p",{staticClass:"name"},[t._v(t._s(e.nickname))]),a("p",{staticClass:"time"},[t._v(t._s(t._f("formatDatetime")(e.created)))])]),a("div",{staticClass:"money"},[a("p",{staticClass:"val",on:{click:function(n){return t.showMoney(e)}}},[t._v(" "+t._s(t._f("formatMoney")(e.money,t.redPackage.decimals,!0))+" ")]),t.checkBest(e)?a("p",{staticClass:"best"},[t._v("🎉 "+t._s(t.$t("best_luck")))]):t._e()])])})),0):t._e()])],1)},s=[],r=(n("d3b7"),n("25f0"),n("901e")),i=n.n(r),o={methods:{checkBest:function(t){return(this.redPackage.openNums==this.redPackage.nums||parseInt(this.redPackage.remainAmount)<parseInt(t.money))&&t.best},showMoney:function(t){alert(new i.a(t.money).div(new i.a(Math.pow(10,this.redPackage.decimals))).toString())},fetchDetail:function(){var t=this;this.callMethod("packageInfo",[this.code]).then((function(e){var n=e.detail,a=e.nickname,s=e.note,r=new i.a(10).pow(n.decimal);t.redPackage={currency:n.currency,nickname:a,decimals:n.decimal,moneyTa:n.money,money:new i.a(n.money).div(r),note:s,nums:n.nums,openNums:n.openNums,remainAmount:n.remainAmount,typ:n.typ,created:n.created},t.loadding=!1}))},fetchOpenList:function(){var t=this;this.callMethod("packageOpenInfo",[this.code]).then((function(e){for(var n=e.openedList,a=e.nameList,s=[],r=0,o=0,c=n.length,u=c-1;u>=0;u--){var l=n[u];l.txhash==t.txhash&&(t.getMoney=l.money),1===new i.a(l.money).comparedTo(r)&&(r=l.money,o=c-1-u),s.push({nickname:a[u]||("zh"==t.$i18n.locale?"匿名用户":"-"),money:l.money,created:l.created})}r&&(s[o].best=!0),t.openList=s,t.openList.length!=t.redPackage.nums?t.cron():t.totalTime=s[0].created-t.redPackage.created}))},cron:function(){var t=this;setTimeout((function(){t.fetchDetail(),t.fetchOpenList()}),3e3)},fetchGetPackage:function(){var t=this;"grabPackage"==this.from&&this.txhash&&this.getTransactionReceipt(this.txhash).then((function(e){e&&"0x1"==e.status?(t.txStatus="0x1",t.fetchDetail(),t.fetchOpenList()):setTimeout(t.fetchGetPackage,3e3)}))}},created:function(){this.$root.changeNavTitle(this.$t("red_envelope")),this.$root.navWhite=!0,this.fetchDetail(),this.fetchOpenList(),this.fetchGetPackage()},data:function(){return{totalTime:0,code:this.$route.query.code,txhash:this.$route.query.txhash,from:this.$route.query.from,txStatus:"0x0",openList:[],getMoney:0,redPackage:{currency:"",decimals:"",money:"",note:"",nums:"",openNums:"",remainAmount:"",typ:""},loadding:!0}},destroyed:function(){this.$root.navWhite=!1}},c=o,u=(n("5f6c"),n("2877")),l=Object(u["a"])(c,a,s,!1,null,null,null);e["default"]=l.exports},c8d2:function(t,e,n){var a=n("d039"),s=n("5899"),r="​᠎";t.exports=function(t){return a((function(){return!!s[t]()||r[t]()!=r||s[t].name!==t}))}},ebb3:function(t,e,n){"use strict";var a=n("7547"),s=n.n(a);s.a},f722:function(t,e,n){"use strict";var a=n("5e0f"),s=n.n(a);s.a},f820:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"page-content",staticStyle:{"text-align":"left"},attrs:{id:"about"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addTokenShow()}}},[n("div",{domProps:{innerHTML:t._s(t.$t("about_content"))}}),"zh"==t.$i18n.locale?n("p",{staticClass:"text-danger"},[n("b",[t._v("风险提示：")]),t._v("本应用发的其他Token红包跟此项目无任何关系，任何人都可以在 SERO 链上以极低价格发行 Token！ ")]):t._e(),t.showAddToken?n("div",[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.addToken(e)}}},[n("b-form-group",{attrs:{label:"Token",description:"如：SERO"}},[n("b-form-input",{model:{value:t.token.currency,callback:function(e){t.$set(t.token,"currency",e)},expression:"token.currency"}})],1),n("b-form-group",{attrs:{label:"小数点位数"}},[n("b-form-input",{attrs:{type:"number"},model:{value:t.token.decimals,callback:function(e){t.$set(t.token,"decimals",e)},expression:"token.decimals"}})],1),n("b-form-group",{attrs:{label:"手续费",description:"扣除多少个 token，如 1e18  表示1SERO"}},[n("b-form-input",{attrs:{type:"number"},model:{value:t.token.fees,callback:function(e){t.$set(t.token,"fees",e)},expression:"token.fees"}})],1),n("b-form-group",{attrs:{label:"最小提币数量",description:"如：1e18 表示1SERO"}},[n("b-form-input",{attrs:{type:"number"},model:{value:t.token.minWithdrawAmount,callback:function(e){t.$set(t.token,"minWithdrawAmount",e)},expression:"token.minWithdrawAmount"}})],1),n("b-form-group",{attrs:{label:"最小红包额",description:"如：1e18 表示1SERO"}},[n("b-form-input",{attrs:{type:"number"},model:{value:t.token.minSendAmount,callback:function(e){t.$set(t.token,"minSendAmount",e)},expression:"token.minSendAmount"}})],1),n("b-form-group",{attrs:{label:"排序",description:"越大越靠前"}},[n("b-form-input",{attrs:{type:"number"},model:{value:t.token.weight,callback:function(e){t.$set(t.token,"weight",e)},expression:"token.weight"}})],1),n("b-button",{attrs:{type:"submit",size:"sm",variant:"primary"}},[t._v(" 添加 Token ")])],1),n("hr"),n("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.getOwner()}}},[t._v(" 获取owner ")]),t._v(" "),n("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.setSeroFee()}}},[t._v(" setSeroFee ")]),t._v(" "),n("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.balanceOf()}}},[t._v(" 合约余额 ")]),n("hr")],1):t._e()])},s=[],r=(n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("498a2"),n("901e")),i=n.n(r),o={methods:{balanceOf:function(){var t=prompt("请输入货币，例如：SERO","SERO");if(t=t.trim(),t){var e=t.split(","),n=e[0],a=e[1];void 0==a&&(a=18),this.callMethod("balanceOf",[n],0,"SERO").then((function(t){alert(new i.a(t.amount).div(Math.pow(10,a)).toString()+n)}))}},setSeroFee:function(){var t=prompt("请输入 Token SERO 手续费，例如：1e17 表示 0.1SERO");null!=t&&(t=new i.a(t).toString(),isNaN(t)?alert("请输入正确的数字"):this.executeMethod("setSeroFee",[t],0,"SERO").then((function(){})))},getSalt:function(){this.callMethod("getSalt",[]).then((function(t){alert(JSON.stringify(t))}))},getOwner:function(){var t=this;this.callMethod("owner",[]).then((function(e){var n=t.$contract.web3.sero.getFullAddress([e[0]]);alert(n[e[0].toLowerCase()])}))},addTokenShow:function(){this.i+=1,this.i>=5&&(this.showAddToken=!0)},addToken:function(t){t.preventDefault();var e=[this.token.decimals,this.token.weight,new i.a(this.token.fees).toString(),new i.a(this.token.minWithdrawAmount).toString(),new i.a(this.token.minSendAmount).toString(),this.token.currency];return console.log("sero:addToken ",e),this.executeMethod("addToken",e,0,"SERO").then((function(t){console.log("sero:addToken ",t)})),!1}},created:function(){this.$root.changeNavTitle(this.$t("about"))},data:function(){return{i:0,token:{currency:"",decimals:18,fees:"1e17",weight:0,minWithdrawAmount:"1e17",minSendAmount:"1e17"},showAddToken:!1}}},c=o,u=n("2877"),l=Object(u["a"])(c,a,s,!1,null,null,null);e["default"]=l.exports},f8e0:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"page-content",attrs:{id:"custom-cover"}},[n("div",{staticClass:"qa-item"},[n("strong",{staticClass:"title"},[t._v("什么是红包封面定制？")]),n("div",{staticClass:"text-muted content"},[n("p",[t._v(" 红包封面定制，可以突出项目/个人特色，利于项目/个人宣传，增加辨识度，与众不同！ ")])])]),n("div",{staticClass:"qa-item"},[n("strong",{staticClass:"title"},[t._v("那些地方可以定制？")]),n("div",{staticClass:"text-muted content"},[n("p",[t._v(" 整个红包背景都可以定制，满足你的需求。 ")])])]),n("div",{staticClass:"qa-item"},[n("strong",{staticClass:"title"},[t._v("怎么定制红包封面？")]),n("div",{staticClass:"text-muted content"},[n("p",[t._v(" 你需要自己提供红包封面背景给我，然后再由我开发上线，详情可以联系微信咨询！ ")])])]),n("div",{staticClass:"qa-item"},[n("strong",{staticClass:"title"},[t._v("上线后，我可以修改红包封面吗？")]),n("div",{staticClass:"text-muted content"},[n("p",[t._v(" 可以，免费提供 3 次修改机会。 ")])])]),n("div",{staticClass:"qa-item"},[n("strong",{staticClass:"title"},[t._v("上线后的定制红包封面，所有人都可以用吗？")]),n("div",{staticClass:"text-muted content"},[n("p",[t._v(" 是的，所有人都可以看见，这也是个不错的展示机会，所以你可以设计的好看点。 ")])])]),n("div",{staticClass:"qa-item"},[n("strong",{staticClass:"title"},[t._v("我可以帮你设计红包封面吗？")]),n("div",{staticClass:"text-muted content"},[n("p",[t._v(" 不行！设计这个事，每个人审美不一样，沟通起来麻烦。 ")])])])])},s=[],r={created:function(){this.$root.changeNavTitle("红包封面定制")}},i=r,o=n("2877"),c=Object(o["a"])(i,a,s,!1,null,null,null);e["default"]=c.exports}}]);
